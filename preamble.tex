\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\usepackage{fontspec}

\usepackage[default]{cantarell}


\usepackage[
  a4paper,
  total={170mm, 247mm},
  left=20mm,
  top=25mm,
  % showframe
]{geometry}

\usepackage[skip=3mm]{parskip}
\renewcommand{\baselinestretch}{1.2}
\selectfont


\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}

\usepackage{mathastext}

\DeclareMathOperator{\Spec}{Spec}

\usepackage{xcolor}

\definecolor{rosewater}{HTML}{dc8a78}
\definecolor{flamingo}{HTML}{dd7878}
\definecolor{pink}{HTML}{ea76cb}
\definecolor{mauve}{HTML}{8839ef}
\definecolor{red}{HTML}{d20f39}
\definecolor{maroon}{HTML}{e64553}
\definecolor{peach}{HTML}{fe640b}
\definecolor{yellow}{HTML}{df8e1d}
\definecolor{green}{HTML}{40a02b}
\definecolor{teal}{HTML}{179299}
\definecolor{sky}{HTML}{04a5e5}
\definecolor{sapphire}{HTML}{209fb5}
\definecolor{blue}{HTML}{1e66f5}
\definecolor{lavender}{HTML}{7287fd}
\definecolor{subtext2}{HTML}{4c4f69}
\definecolor{subtext1}{HTML}{5c5f77}
\definecolor{subtext0}{HTML}{6c6f85}
\definecolor{overlay2}{HTML}{7c7f93}
\definecolor{overlay1}{HTML}{8c8fa1}
\definecolor{overlay0}{HTML}{9ca0b0}

\definecolor{text}{HTML}{000000}
\color{text}

\makeatletter 
\let\htitle\@title
\let\fauthor\@author
\makeatother

\usepackage{fancyhdr}

\fancyfoot[CE, CO]{}
\fancyfoot[LE, RO]{\color{overlay2}\thepage}

\fancyhead[RE, LO]{$ \quad $\color{subtext1}\fauthor $ \quad $}
\fancyhead[LE, RO]{$ \quad $\color{green!40!subtext2}\bfseries\htitle $ \quad $}

\fancypagestyle{plain}{%
  \fancyhf{}%
  \fancyfoot[CE, CO]{}
  \fancyfoot[LE, RO]{\color{overlay2}\thepage}

  \fancyhead[RE, LO]{$ \quad $\color{subtext1}\fauthor $ \quad $}
  \fancyhead[LE, RO]{$ \quad $\color{green!40!subtext2}\bfseries\htitle $ \quad $}
}
\usepackage{dashrule}

\renewcommand{\headrule}{\color{overlay0}\hdashrule[.5ex]{\headwidth}{1pt}{1pt}}

\pagestyle{fancy}

\usepackage{titlesec}

\titleformat{\chapter}[block]{\bfseries\Huge}{\color{green!40!subtext2}\filright\Huge\thechapter.}{1ex}{\color{green!40!subtext2}\Huge\filright}

\titlespacing*{\chapter}{0pt}{0pt}{20pt}

\usepackage{amsthm}
\usepackage{thmtools}
\usepackage{tcolorbox}

% \RequirePackage[framemethod=TikZ]{mdframed}

\tcbuselibrary{theorems}
\tcbuselibrary{breakable}
\tcbuselibrary{skins}

\tcbset{greenTHM/.style={
    fonttitle = \bfseries\large,
    coltitle = green!50!black,
    description color = green!50!black, 
    description font = \bfseries\large,
    colbacktitle = white, %green!40!black!75,
    breakable, 
    enhanced,
    attach boxed title to top left = {
      xshift=0.5cm, 
      yshift=-\tcboxedtitleheight/2
    },
    boxed title style = {
      boxrule=0pt,
      colframe=white
    },
    top=6mm,
    bottom=4mm,
    colback=white,
    frame hidden,
    borderline={1pt}{0pt}{green!40},
    arc=0mm,
    after skip=5mm,
    before skip=5mm
  }
}

\tcbset{orangeTHM/.style={
    fonttitle = \bfseries\large,
    coltitle = orange!60!black,
    description color = orange!60!black, 
    description font = \bfseries\large,
    colbacktitle = white, %green!40!black!75,
    breakable, 
    enhanced,
    attach boxed title to top left = {
      xshift=0.5cm, 
      yshift=-\tcboxedtitleheight/2
    },
    boxed title style = {
      boxrule=0pt,
      colframe=white
    },
    top=6mm,
    bottom=4mm,
    colback=white,
    frame hidden,
    borderline={1pt}{0pt}{orange!40}, 
    arc=0mm,
    before skip=5mm,
    after skip=5mm
  }
}

\NewTcbTheorem[
  auto counter, 
  % number within=chapter
  number within=section
]{definition}{Definition}{greenTHM}{def} 

\NewTcbTheorem[
  use counter from=definition
]{theorem}{Theorem}{orangeTHM}{th}

\NewTcbTheorem[
  use counter from=definition
]{proposition}{Proposition}{orangeTHM}{prop}


\usepackage{svg}

\renewenvironment{proof}{{\bfseries\color{green!60!black} Dow√≥d}$ $\newline}{
  \begin{flushright} \includesvg[width=4mm]{../../../../duck.svg} \end{flushright}$ $\newline
}

\usepackage{soul}

\sethlcolor{green!15}

\makeatletter
%\font\SOUL@tt="LMMono10-Regular"
\setbox\z@\hbox{\SOUL@tt-}
\SOUL@ttwidth\wd\z@ %
\makeatother

\newcommand{\buff}[1]{
  {\bfseries\color{green}#1}
}

\usepackage{enumitem}
