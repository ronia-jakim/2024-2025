\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{triviaclass}

\RequirePackage[T1]{fontenc}

\RequirePackage{xcolor}
\RequirePackage{tikz}
\RequirePackage{pgfplots}
\usetikzlibrary{calc,decorations.pathreplacing,hobby}

\RequirePackage{varwidth}

\RequirePackage{fontspec}
\RequirePackage[default]{cantarell}

\RequirePackage{geometry}
\geometry{
  paperwidth=15cm,
  paperheight=15cm,
  total={15cm,15cm}
}


\RequirePackage[nolessnomore,noequal,noparenthesis,nospecials,noplusnominus,noexclam,italic]{mathastext}

\RequirePackage{amsfonts}
\RequirePackage{amsmath}
\RequirePackage{amssymb}

\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\A}{\mathbb{A}}



\definecolor{accent}{HTML}{294d47}
\definecolor{subtitle}{HTML}{648182}
\definecolor{trutu}{HTML}{CCB89D}
\definecolor{title}{HTML}{407678}
\definecolor{buff}{HTML}{62A390}%AC5C3E}

\definecolor{back}{HTML}{FCF0E0}

\definecolor{green}{HTML}{5BA37E}
\definecolor{blue}{HTML}{5BA3A2}
\definecolor{orange}{HTML}{DE8D5B}

\pagecolor{back}
\pagestyle{empty}


\makeatletter
\def\short#1{\gdef\@short{#1}}
\def\@short{\@latex@warning@no@line{Nie dałeś skrótu, dzbanie}}

\def\fields#1{\gdef\@fields{#1}}
\def\@fields{\@latex@warning@no@line{Nie dałeś dziedzin, dzbanie}}

\renewcommand{\@maketitle}{%
  \thispagestyle{empty}
  \vspace*{\fill}
  \begin{center}
    \begin{minipage}{.5\paperwidth}
      \begin{center}
        {\LARGE\bfseries\color{title}\MakeUppercase{\@title}}

        {\footnotesize\color{green!60!back}\@fields}
        \vskip2em

        {\slshape\color{subtitle}\@short}\vskip1em

        $ $
      \end{center}
    \end{minipage}
  \end{center}
  \vspace*{\fill}
  \begin{tikzpicture}[overlay, remember picture]
    \foreach \i in {0, 1, ..., 100} {
      \draw[title, opacity=.8] (0.1\paperwidth, 0.1\paperheight + \i * 0.008\paperheight ) -- (0.07\paperwidth, 0.07\paperheight + \i * 0.0086\paperheight );
      \draw[title, opacity=.8] (0.9\paperwidth, 0.1\paperheight + \i * 0.008\paperheight ) -- (0.93\paperwidth, 0.07\paperheight + \i * 0.0086\paperheight );

      \draw[title, opacity=.8] (0.1\paperwidth + \i * 0.008\paperwidth, 0.1\paperheight) -- (0.07\paperwidth + \i*0.0086\paperwidth, 0.07\paperheight);
      \draw[title, opacity=.8] (0.1\paperwidth + \i * 0.008\paperwidth, 0.9\paperheight) -- (0.07\paperwidth + \i*0.0086\paperwidth, 0.93\paperheight);
    }

    \draw[line width=1.5mm, accent] (0.1\paperwidth, 0.1\paperheight) rectangle (0.9\paperwidth, .9\paperheight);
    \draw[line width=.3mm, subtitle] (0.11\paperwidth, 0.11\paperheight) rectangle (0.89\paperwidth, .89\paperheight);
    \draw[line width=1mm, accent] (0.07\paperwidth, 0.07\paperheight) rectangle (0.93\paperwidth, .93\paperheight);

    \draw[line width=2mm, trutu, opacity=.3] (0.045\paperwidth, .045\paperheight) rectangle (.955\paperwidth, .955\paperheight);
    \draw[line width=4mm, trutu, opacity=.2] (0.02\paperwidth, .02\paperheight) rectangle (.98\paperwidth, .98\paperheight);

  \end{tikzpicture}
}
\makeatother

\newenvironment{slide}{
  \newpage
  \vspace*{\fill}
  \begin{center}
    \begin{minipage}{.7\paperwidth}\color{accent}
}{
  \end{minipage}
  \end{center}
  \vspace*{\fill}
  \begin{tikzpicture}[overlay, remember picture]
    \draw[line width=2mm, trutu, opacity=.3] (0.045\paperwidth, .045\paperheight) rectangle (.955\paperwidth, .955\paperheight);
    \draw[line width=4mm, trutu, opacity=.2] (0.02\paperwidth, .02\paperheight) rectangle (.98\paperwidth, .98\paperheight);

  \end{tikzpicture}
}

\newcommand{\buff}[1]{{\boldmath\bfseries\color{buff}#1}}

\ProcessOptions\relax

\endinput
